<Page
    x:Class="IotHello.Uwp.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:IotHello.Uwp"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:lm="using:IotHello.Uwp.Models"
    xmlns:s="using:System"
    mc:Ignorable="d">

    <Page.Resources>
        <DataTemplate x:Key="List_Action" x:DataType="lm:Action">
            <Button HorizontalAlignment="Stretch" Content="{x:Bind Label}" Command="{x:Bind Command}" Margin="10"/>
        </DataTemplate>
        <DataTemplate x:Key="List_Info" x:DataType="s:String">
            <Border Padding="10" Margin="10" Background="RoyalBlue" Width="200" Height="200">
                <TextBlock Text="{x:Bind}" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="30"/>
            </Border>
        </DataTemplate>
    </Page.Resources>
    
    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <!-- Clock -->
            <RowDefinition Height="Auto"/>
            <!-- Info Display -->
            <RowDefinition/>
            <!-- Commands -->
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <!-- Clock -->
        <TextBlock Text="0:00:00" FontSize="100" HorizontalAlignment="Center"/>
        <!-- Info Display -->
        <GridView Grid.Row="1" ItemsSource="{x:Bind VM.Infos}" ItemTemplate="{StaticResource List_Info}" />
        <!-- Commands -->
        <ItemsControl Grid.Row="2" ItemsSource="{x:Bind VM.Actions}" ItemTemplate="{StaticResource List_Action}" />
    </Grid>
</Page>
